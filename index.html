<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REDMUSIC | Top 20 Artistas 2025 (Dados em Tempo Real)</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Jost:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-dark: #0A0A10;
            --color-card: #151520;
            --color-red: #FF3366; /* Vermelho/Rosa Neon - Primary */
            --color-text: #EAEAEF;
            --color-light-grey: #AAAAAA;
            --color-accent-blue: #00CCFF; /* Azul Ciano - Contraste */
            --shadow-glow: 0 0 10px rgba(255, 51, 102, 0.4);
            --transition-speed: 0.4s;
        }

        body {
            font-family: 'Jost', sans-serif;
            background-color: var(--color-dark);
            color: var(--color-text);
            margin: 0;
            padding: 50px 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .dashboard-main {
            width: 100%;
            max-width: 900px;
            background-color: var(--color-dark);
        }

        /* Título e Header */
        .header {
            padding-bottom: 20px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--color-card);
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .logo {
            font-family: 'Space Mono', monospace;
            font-size: 2.2em;
            font-weight: 700;
            color: var(--color-red);
            text-shadow: var(--shadow-glow);
            letter-spacing: 3px;
        }

        .header-info {
            text-align: right;
        }

        .header-info h1 {
            font-size: 1.6em;
            font-weight: 500;
            color: var(--color-text);
            margin: 0;
        }

        .update-status {
            font-size: 0.9em;
            color: var(--color-light-grey);
            font-family: 'Space Mono', monospace;
        }

        /* Lista de Ranking */
        #ranking-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            gap: 10px;
        }

        .artist-item {
            display: grid;
            grid-template-columns: 50px 3fr 1fr; /* Rank | Nome/Gênero | Streams */
            align-items: center;
            background-color: var(--color-card);
            padding: 15px 20px;
            border-radius: 6px;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
            position: relative;
        }

        .artist-item:hover {
            background-color: #252535;
            transform: translateY(-2px);
            border-left: 3px solid var(--color-red);
        }

        /* Coluna do Rank */
        .rank-number {
            font-family: 'Space Mono', monospace;
            font-size: 1.5em;
            font-weight: 700;
            color: var(--color-red);
            text-shadow: 0 0 5px rgba(255, 51, 102, 0.5);
            text-align: center;
        }

        /* Coluna do Artista */
        .artist-info {
            padding-left: 15px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        .artist-name {
            font-size: 1.15em;
            font-weight: 700;
            color: var(--color-text);
            display: block;
        }

        .artist-genre {
            font-size: 0.8em;
            color: var(--color-light-grey);
            font-style: italic;
        }

        /* Coluna de Streams */
        .streams-count {
            font-family: 'Space Mono', monospace;
            font-size: 1em;
            font-weight: 700;
            color: var(--color-accent-blue);
            text-align: right;
            padding-left: 10px;
        }

        /* Indicadores de Mudança (Tempo Real) */
        .rank-up, .rank-down {
            transition: all var(--transition-speed);
        }

        .rank-up .rank-number { color: #33FF99; /* Verde para Subir */ }
        .rank-down .rank-number { color: #FF3366; /* Vermelho para Descer */ }

        .rank-up::after {
            content: '▲';
            color: #33FF99;
            font-size: 0.7em;
            margin-left: 5px;
        }
        
        .rank-down::after {
            content: '▼';
            color: #FF3366;
            font-size: 0.7em;
            margin-left: 5px;
        }

        /* Animação para Artista Recém-Atualizado */
        .animated-change {
            animation: flash-update 1s ease-in-out;
        }
        
        @keyframes flash-update {
            0% { background-color: rgba(255, 51, 102, 0.2); transform: scale(1.01); }
            50% { background-color: var(--color-card); transform: scale(1.0); }
            100% { background-color: rgba(255, 51, 102, 0.2); transform: scale(1.01); }
        }

        /* Responsividade */
        @media (max-width: 600px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }
            .header-info {
                text-align: left;
                margin-top: 10px;
            }
            .artist-item {
                grid-template-columns: 40px 1fr 80px;
                padding: 12px 10px;
            }
            .artist-name {
                font-size: 1em;
            }
            .streams-count {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

<div class="dashboard-main">
    <div class="header">
        <div class="logo">REDMUSIC</div>
        <div class="header-info">
            <h1>RANKING MUNDIAL YOUTUBE 2025</h1>
            <p class="update-status">Dados em Tempo Real | Última Atualização: <span id="real-time-status">...</span></p>
        </div>
    </div>

    <ul id="ranking-list">
        </ul>
</div>

<script>
    // LISTA INICIAL DE ARTISTAS E DADOS (SERIA A BASE DE DADOS REAL)
    const baseArtists = [
        { name: 'Taylor Swift', genre: 'Pop / Country', streams: 15000000000, id: 1 },
        { name: 'BLACKPINK', genre: 'K-Pop / Grupo Feminino', streams: 14500000000, id: 2 },
        { name: 'Shakira', genre: 'Pop Latino / Dance', streams: 13000000000, id: 3 },
        { name: 'Ariana Grande', genre: 'Pop / R&B', streams: 12500000000, id: 4 },
        { name: 'Katy Perry', genre: 'Pop', streams: 11500000000, id: 5 },
        { name: 'Karol G', genre: 'Reggaeton / Urbano Latino', streams: 11000000000, id: 6 },
        { name: 'Rihanna', genre: 'R&B / Pop', streams: 10500000000, id: 7 },
        { name: 'Adele', genre: 'Soul / Pop', streams: 10000000000, id: 8 },
        { name: 'Billie Eilish', genre: 'Alternative Pop', streams: 9500000000, id: 9 },
        { name: 'Lady Gaga', genre: 'Pop / Dance', streams: 9000000000, id: 10 },
        { name: 'Marília Mendonça', genre: 'Sertanejo / Sofrência', streams: 8500000000, id: 11 },
        { name: 'Beyoncé', genre: 'R&B / Pop', streams: 8000000000, id: 12 },
        { name: 'Dua Lipa', genre: 'Pop / Dance-Pop', streams: 7500000000, id: 13 },
        { name: 'Nicki Minaj', genre: 'Hip-Hop / Rap', streams: 7000000000, id: 14 },
        { name: 'Sia', genre: 'Pop / Indie Pop', streams: 6500000000, id: 15 },
        { name: 'Lana Del Rey', genre: 'Alternative / Indie Pop', streams: 6000000000, id: 16 },
        { name: 'Selena Gomez', genre: 'Pop', streams: 5500000000, id: 17 },
        { name: 'Sabrina Carpenter', genre: 'Pop', streams: 5000000000, id: 18 },
        { name: 'Doja Cat', genre: 'Pop / R&B / Hip-Hop', streams: 4500000000, id: 19 },
        { name: 'Tyla', genre: 'Amapiano / R&B', streams: 4000000000, id: 20 }
    ];

    // Variável para armazenar o estado anterior (usando um mapa para fácil lookup de posição)
    let previousRankingMap = new Map();

    // Função para buscar/simular a atualização dos dados
    function fetchRealTimeData() {
        // Clonar e modificar a lista (SIMULAÇÃO DE DADOS ATUAIS)
        let newArtists = JSON.parse(JSON.stringify(baseArtists));
        
        // Adicionar um valor aleatório (streams) para simular o crescimento e a mudança de ranking
        newArtists.forEach(artist => {
            // Streams aleatórias entre 5 milhões e 500 milhões
            artist.streams += Math.floor(Math.random() * 495000000) + 5000000;
        });

        // Ordenar a nova lista para obter o ranking atualizado
        newArtists.sort((a, b) => b.streams - a.streams);

        return newArtists;
    }

    // Função para formatar números grandes em B (Bilhão) ou M (Milhão)
    function formatStreams(num) {
        if (num >= 1000000000) {
            return (num / 1000000000).toFixed(2) + ' B';
        }
        if (num >= 1000000) {
            return (num / 1000000).toFixed(2) + ' M';
        }
        return num.toLocaleString('pt-BR');
    }

    // Função principal para renderizar e animar
    function renderRanking(currentRanking) {
        const listElement = document.getElementById('ranking-list');
        const newList = document.createElement('ul');
        newList.id = 'ranking-list';

        // 1. Criar o novo mapa de ranking para o estado atual
        const currentRankingMap = new Map();
        currentRanking.forEach((artist, index) => {
            currentRankingMap.set(artist.id, index + 1);
        });

        currentRanking.forEach((artist, index) => {
            const rank = index + 1;
            const listItem = document.createElement('li');
            listItem.className = 'artist-item';

            // 2. Determinar a classe de mudança de ranking
            let rankChangeClass = '';
            if (previousRankingMap.has(artist.id)) {
                const previousRank = previousRankingMap.get(artist.id);
                
                if (previousRank > rank) {
                    rankChangeClass = 'rank-up animated-change'; // Subiu
                } else if (previousRank < rank) {
                    rankChangeClass = 'rank-down animated-change'; // Desceu
                }
            }
            
            listItem.classList.add(rankChangeClass);

            const formattedStreams = formatStreams(artist.streams);

            listItem.innerHTML = `
                <span class="rank-number">${String(rank).padStart(2, '0')}</span>
                <div class="artist-info">
                    <span class="artist-name">${artist.name}</span>
                    <span class="artist-genre">${artist.genre}</span>
                </div>
                <span class="streams-count">${formattedStreams}</span>
            `;

            newList.appendChild(listItem);
        });

        // 3. Substituir a lista antiga pela nova (atualização visual)
        listElement.parentNode.replaceChild(newList, listElement);

        // 4. Atualizar o estado anterior
        previousRankingMap = currentRankingMap;

        // 5. Atualizar o status de tempo
        document.getElementById('real-time-status').textContent = new Date().toLocaleTimeString('pt-BR');
    }

    // Função de inicialização
    function init() {
        // Carrega o ranking inicial sem animação de mudança
        renderRanking(fetchRealTimeData());

        // Configura a atualização em tempo real (a cada 5 segundos)
        setInterval(() => {
            const newRanking = fetchRealTimeData();
            renderRanking(newRanking);
        }, 5000); // 5 segundos
    }

    // Inicia a aplicação
    init();
</script>
</body>
</html>
